var login = $('#login'),
    loginForms = $('#login').find('.forms'),
    loginBigForms = $('#login').find('.big-forms'),
    loginA = $('#login').find('.login').find('a');

$("html, body").animate({ scrollTop: 0 }, 200);
if(loginForms.is(':empty')) {
	loginForms.html('<%= j render("sessions/login_content") %>');
}
loginBigForms.slideToggle('slow', function() {
  if(loginBigForms.is(':visible')) {
    loginA.html('<i class="foundiconge-up-arrow"></i> Login') ;
  	document.location.hash = "log" ;
  }
  else {
    loginA.html('<i class="foundiconge-down-arrow"></i> Login') ;
  	document.location.hash = "" ;
  }
});

// popup sign up
$('#login .big-forms .forms div.container div.log span.inscription').click(function(){
  $('#login div.container_inscription div.commit span.infos').toggle(true);
  $('#login div.container_inscription').fadeIn(500);
  $("html, body").animate({scrollTop: $('#login div.container_inscription').offset().top - 50 }, 750);
  // Set black out (div.overlay)
  $('#login .overlay').fadeIn(300);
  $('#login .overlay').css({
    width: $(document).width(),
    height: $(document).height()
  });
  // Set step back
  $('#login .overlay').click(function(e){
    $('#login .overlay').fadeOut(300, function(){
      $("html, body").animate({scrollTop: 0 }, 750);
      $('#login div.container_inscription').fadeOut(200);
    });
  });
});
