var login = $('#login'),
    loginForms = $('#login').find('.forms'),
    loginBigForms = $('#login').find('.big-forms'),
    loginA = $('#login').find('.login').find('a');

$("html, body").animate({ scrollTop: 0 }, 200);
if(loginForms.is(':empty')) {
	loginForms.html('<%= j render "sessions/login_content" %>');
}
loginBigForms.slideToggle('slow', function() {
  if(loginBigForms.is(':visible')) {
    loginA.html('<i class="foundiconge-up-arrow"></i> Login') ;
  	document.location.hash = "log" ;
  }
  else {
    loginA.html('<i class="foundiconge-down-arrow"></i> Login') ;
  	document.location.hash = "" ;
  }
});

// popup sign up

var containerInscription = $('#login div.container_inscription'),
    overlay = $('#login .overlay');

$('#login .forms span.inscription').click(function() {
  containerInscription.find('div.commit span.infos').toggle(true);
  containerInscription.fadeIn(500);
  $("html, body").animate({ scrollTop: containerInscription.offset().top - 50 }, 750);
  // Set black out (div.overlay)
  overlay.fadeIn(300);
  overlay.css({
    width: $(document).width(),
    height: $(document).height()
  });
  // Set step back
  overlay.click(function(e){
    overlay.fadeOut(300, function(){
      $("html, body").animate({scrollTop: 0 }, 750);
      containerInscription.fadeOut(200);
    });
  });
});
